var learndash_shortcodes=jQuery.extend(learndash_shortcodes||{},{tinymce_editor:null,show_popup_html:function(){var e=learndash_shortcodes.get_tinymce_url(),t=jQuery("#learndash_shortcodes_holder").length;if(t)tb_show("LearnDash Shortcodes",e);else{jQuery("body").append('<div id="learndash_shortcodes_holder" style="display: none;"><div id="learndash_shortcodes"></div></div>');var s={action:"learndash_generate_shortcodes_content",post_type:typenow};jQuery.ajax({type:"GET",url:ajaxurl,dataType:"html",cache:!1,data:s,error:function(){},success:function(t){"undefined"!=typeof t&&jQuery("#learndash_shortcodes").html(t),learndash_shortcodes.popup_init(),tb_show("LearnDash Shortcodes",e)}})}},get_tinymce_url:function(){var e=jQuery(window).width(),t=jQuery(window).height(),s=e>950?950:e,a=t;s-=80,a-=84;var r="#TB_inline?width="+s+"&height="+a+"&inlineId=learndash_shortcodes";return r},tinymce_callback:function(e){learndash_shortcodes.tinymce_editor=e,learndash_shortcodes.show_popup_html()},qt_callback:function(){learndash_shortcodes.tinymce_editor=null,learndash_shortcodes.show_popup_html()},popup_init:function(){jQuery("#learndash_shortcodes_tabs a").click(function(e){e.preventDefault(),learndash_shortcodes.tabs_switch(jQuery(this))}),learndash_shortcodes.tabs_switch(jQuery("#learndash_shortcodes a").first()),jQuery("form.learndash_shortcodes_form").submit(function(e){e.preventDefault(),tb_remove(),learndash_shortcodes.popup_submit(this)})},tabs_switch:function(e){jQuery("#learndash_shortcodes_sections .hidable").hide(),jQuery("#learndash_shortcodes_sections #tabs-"+e.attr("data-nav")).show(),jQuery("#learndash_shortcodes_tabs li").removeClass("current"),e.parent().addClass("current")},get_selected_text:function(){var e=document.getElementById("content"),t=e.selectionStart,s=e.selectionEnd;return e.value.substring(t,s)},popup_submit:function(e){var t=jQuery(e).attr("shortcode_slug"),s=jQuery(e).attr("shortcode_type");"undefined"==typeof s&&(s=1);var a="["+t,r=e.elements,n="";if(r.length>0)for(var o=0;o<r.length;){var d=r[o];switch(d.type){case"textarea":2==s?n=d.value:a+=" "+d.name+'="'+d.value.replace(/"/g,'\\"')+'"';break;case"checkbox":d.checked&&"undefined"!=typeof d.value&&""!=d.value&&"0"!=d.value&&(a+=" "+d.name+'="'+d.value.replace(/"/g,'\\"')+'"');break;case"submit":break;case"text":default:if("undefined"!=typeof d.value&&""!=d.value){d.value.replace(/\W/g,"");a+=" "+d.name+'="'+d.value.replace(/"/g,'\\"')+'"'}}o+=1}a+="]",2==s&&""!=n&&(a+=n,a+="[/"+t+"]"),null!==learndash_shortcodes.tinymce_editor?learndash_shortcodes.tinymce_editor.setContent(a):QTags.insertContent(a)}});