function wpProQuiz_fetchToplist(){var d=this;d.toplist={handleRequest:function(a){jQuery(".wpProQuiz_toplist").each(function(){var g=jQuery(this),e=a[g.data("quiz_id")],f=g.find("tbody tr"),d=f.eq(2);f.slice(3).remove();if(void 0==e)return f.eq(0).hide().end().eq(1).show(),!0;for(var b=0,h=e.length;b<h;b++){var c=d.clone().children();c.eq(0).text(b+1);c.eq(1).text(e[b].name);c.eq(2).text(e[b].date);c.eq(3).text(e[b].points);c.eq(4).text(e[b].result+" %");b&1&&c.addClass("wpProQuiz_toplistTrOdd");
c.parent().show().appendTo(g.find("tbody"))}f.eq(0).hide();f.eq(1).hide()})},fetchIds:function(){var a=[];jQuery(".wpProQuiz_toplist").each(function(){a.push(jQuery(this).data("quiz_id"))});return a},init:function(){var a=d.toplist.fetchIds();0!=a.length&&jQuery.post(WpProQuizGlobal.ajaxurl,{action:"wp_pro_quiz_show_front_toplist",quizIds:a},function(a){d.toplist.handleRequest(a)},"json")}};d.toplist.init()}jQuery(document).ready(wpProQuiz_fetchToplist);
