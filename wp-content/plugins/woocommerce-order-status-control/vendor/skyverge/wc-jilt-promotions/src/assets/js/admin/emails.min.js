jQuery(document).ready(function(l){l("#sv-wc-jilt-emails-install-prompt .sv-wc-jilt-prompt-install-cta").click(function(t){t.preventDefault(),new l.WCBackboneModal.View({target:"sv-wc-jilt-promotions-install-plugin-modal"})}),l(document).on("click","#sv-wc-jilt-install-button-install",function(t){t.preventDefault(),l("#sv-wc-jilt-install-modal .wc-backbone-modal-content").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),l.post(ajaxurl,{action:"sv_wc_jilt_install_jilt",nonce:sv_wc_jilt_email_prompt.nonces.install_plugin,email_id:sv_wc_jilt_email_prompt.email_id}).then(function(t){t.success&&t.data.redirect_url?window.location=t.data.redirect_url:(console.error(t),l("#sv-wc-jilt-install-modal article").html(sv_wc_jilt_email_prompt.i18n.install_error),l("#sv-wc-jilt-install-button-install").hide())}).fail(function(){l("#sv-wc-jilt-install-modal article").html(sv_wc_jilt_email_prompt.i18n.install_error),l("#sv-wc-jilt-install-button-install").hide()}).always(function(){l("#sv-wc-jilt-install-modal .wc-backbone-modal-content").unblock()})}),l("#sv-wc-jilt-emails-install-prompt .sv-wc-jilt-prompt-hide-cta").click(function(t){t.preventDefault(),$table=l(this).parents("table"),$table.hide(),$table.prevUntil("table").hide(),l.post(ajaxurl,{action:"sv_wc_jilt_hide_emails_prompt",nonce:sv_wc_jilt_email_prompt.nonces.hide_prompt})})});