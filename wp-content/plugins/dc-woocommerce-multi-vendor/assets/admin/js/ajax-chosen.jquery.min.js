!function(t){return t.fn.ajaxChosen=function(e,n){var a,i,r,s;return null==e&&(e={}),null==n&&(n=function(){}),i={minTermLength:3,afterTypeDelay:500,jsonTermKey:"term"},s=this,a=null,r=t.extend({},i,e),this.chosen(),this.each(function(){return t(this).next(".chosen-container").find(".search-field > input, .chosen-search > input").bind("keyup",function(){var e,i,u,h;return h=t.trim(t(this).attr("value")),i=h.length<r.minTermLength?"Keep typing...":"Looking for '"+h+"'",s.next(".chosen-container").find(".no-results").text(i),h===t(this).data("prevVal")?!1:(t(this).data("prevVal",h),this.timer&&clearTimeout(this.timer),h.length<r.minTermLength?!1:(e=t(this),null==r.data&&(r.data={}),r.data[r.jsonTermKey]=h,null!=r.dataCallback&&(r.data=r.dataCallback(r.data)),u=r.success,r.success=function(a){var i,r;if(null!=a)return r=[],s.find("option").each(function(){return t(this).is(":selected")?r.push(t(this).val()+"-"+t(this).text()):t(this).remove()}),i=n(a),t.each(i,function(e,n){return-1===t.inArray(e+"-"+n,r)?t("<option />").attr("value",e).html(n).appendTo(s):void 0}),s.trigger("chosen:updated"),null!=u&&u(a),e.attr("value",h),e.css("width","auto")},this.timer=setTimeout(function(){return a&&a.abort(),a=t.ajax(r)},r.afterTypeDelay)))})})}}(jQuery);